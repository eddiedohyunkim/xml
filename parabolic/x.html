<html>
<style>html,body{background-color:#000;}</style>
<body><div id='container'></div></body>
<script type='text/javascript' src='js/xml-formatter.js'></script>
<script>
var width = width;
var height = height;
var formattedXml
var doc = document.implementation.createDocument(', ', null);
create(function(){write();});

function create(xml) {
	var svg = doc.createElement('svg');
	svg.setAttribute('xmlns','http://www.w3.org/2000/svg');
	svg.setAttribute('version','1.0');
	svg.setAttribute('width',width);
	svg.setAttribute('height',height);
	var m = 600;
	var add = 100;
	var sw = 3;
	var g = doc.createElement('g');
	g.setAttribute('style','stroke:#99ff99; stroke-width:'+sw+';');
	for(var i=0; i<=m; i+=add){
		var x1 = doc.createElement('line');
		x1.setAttribute('x1',i/2);
		x1.setAttribute('y1',0);
		x1.setAttribute('x2',m-i);
		x1.setAttribute('y2',m-i);

		g.appendChild(x1);

		var x2 = doc.createElement('line');
		x2.setAttribute('x1',(m+i)/2);
		x2.setAttribute('y1',0);
		x2.setAttribute('x2',m-i);
		x2.setAttribute('y2',i);

		g.appendChild(x2);
	
		var x3 = doc.createElement('line');
		x3.setAttribute('x1',i/2);
		x3.setAttribute('y1',m);
		x3.setAttribute('x2',m-i);
		x3.setAttribute('y2',i);

		g.appendChild(x3);

		var x4 = doc.createElement('line');
		x4.setAttribute('x1',((m+i)/2));
		x4.setAttribute('y1',m);
		x4.setAttribute('x2',m-i);
		x4.setAttribute('y2',m-i);

		g.appendChild(x4);
	}
	svg.appendChild(g);
	doc.appendChild(svg);
 	xml();
} 
// var lines = document.getElementsByTagName('line');
// document.body.onmousemove = function(e) {
// 	var xpos = e.clientX;
// 	var ypos = e.clientY;
// 	add = xpos;
// 	create(function(){write();});
// }

function write(){
	var heading = '<?xml version="1.0" encoding="UTF-8"?>'
	var s = new XMLSerializer();
	var str = heading + s.serializeToString(doc);
	var format = require('xml-formatter');
	formattedXml = format(str);
	console.log(formattedXml);
	print();
}
function print (){
	var container = document.getElementById('container');
	container.innerHTML = formattedXml;
};
</script>
</html>